(function(){"use strict";var e={2566:function(e,n,s){var a=s(9242),r=s(3396);const i={id:"app"},o={class:"gotAccount"};function t(e,n,s,a,t,l){const u=(0,r.up)("router-view"),c=(0,r.up)("SigninForm"),d=(0,r.up)("SignupForm"),p=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",i,[(0,r.Wm)(u),t.showSigninForm?((0,r.wg)(),(0,r.j4)(c,{key:0,onOnSigninSuccess:l.handleSigninSuccess},null,8,["onOnSigninSuccess"])):(0,r.kq)("",!0),t.showSignupForm?((0,r.wg)(),(0,r.j4)(d,{key:1,onOnSignupSuccess:l.handleSignupSuccess},null,8,["onOnSignupSuccess"])):(0,r.kq)("",!0),(0,r._)("p",o,[(0,r.Uk)("No account? "),(0,r.Wm)(p,{class:"link",to:"/signup"},{default:(0,r.w5)((()=>[(0,r.Uk)("Sign up here!")])),_:1})])])}var l=s(7139);const u=e=>((0,r.dD)("data-v-275c6719"),e=e(),(0,r.Cn)(),e),c=u((()=>(0,r._)("h1",null,"Sign up",-1))),d=u((()=>(0,r._)("label",null,"Email:",-1))),p=u((()=>(0,r._)("label",null,"Password:",-1))),m=u((()=>(0,r._)("label",null,"Confirm Password:",-1))),g={key:0,class:"error"},w=u((()=>(0,r._)("div",{class:"submit"},[(0,r._)("button",null,"Sign up")],-1)));function h(e,n,s,i,o,t){return(0,r.wg)(),(0,r.iD)("div",null,[c,(0,r._)("form",{onSubmit:n[3]||(n[3]=(0,a.iM)(((...e)=>t.handleSignUp&&t.handleSignUp(...e)),["prevent"]))},[d,(0,r.wy)((0,r._)("input",{type:"email",required:"","onUpdate:modelValue":n[0]||(n[0]=e=>o.email=e)},null,512),[[a.nr,o.email]]),p,(0,r.wy)((0,r._)("input",{type:"password",required:"","onUpdate:modelValue":n[1]||(n[1]=e=>o.password=e)},null,512),[[a.nr,o.password]]),m,(0,r.wy)((0,r._)("input",{type:"password",required:"","onUpdate:modelValue":n[2]||(n[2]=e=>o.confirmPassword=e)},null,512),[[a.nr,o.confirmPassword]]),o.passwordError?((0,r.wg)(),(0,r.iD)("div",g,(0,l.zw)(o.passwordError),1)):(0,r.kq)("",!0),w],32)])}s(560);var v=s(7795),f=s(4690);const _={apiKey:"AIzaSyAzqaAQ9rKf3N7IqFO4dzxzPzuAq4ZKxNI",authDomain:"email-client-nikola-cerovina.firebaseapp.com",projectId:"email-client-nikola-cerovina",storageBucket:"email-client-nikola-cerovina.appspot.com",messagingSenderId:"137188675381",appId:"1:137188675381:web:0a185a9d5b48ddbfd3867c",measurementId:"G-8DJRS5PTNX"},b=(0,v.ZF)(_),y=(0,f.v0)(b);var S={data(){return{email:"",password:"",confirmPassword:"",passwordError:""}},methods:{async handleSignUp(){console.log("Handling sign up...");try{if(this.password!==this.confirmPassword)return void(this.passwordError="Passwords don't match");const e=await(0,f.Xb)(y,this.email,this.password);this.email="",this.password="",this.confirmPassword="",this.passwordError="",alert("Account created!");const n=e.user;this.$emit("onSignupSuccess",n),this.$router.push({name:"UserProfile",params:{userId:n.uid},query:{email:n.email}})}catch(e){this.passwordError=`Error signing up: ${e.message}`,console.error("Sign-up error:",e)}}}},k=s(89);const U=(0,k.Z)(S,[["render",h],["__scopeId","data-v-275c6719"]]);var D=U;const I=e=>((0,r.dD)("data-v-c45406b8"),e=e(),(0,r.Cn)(),e),C=I((()=>(0,r._)("h1",null,"Sign in",-1))),q=I((()=>(0,r._)("label",null,"Email:",-1))),P=I((()=>(0,r._)("label",null,"Password:",-1))),j=I((()=>(0,r._)("div",{class:"submit"},[(0,r._)("button",null,"Sign in")],-1)));function E(e,n,s,i,o,t){return(0,r.wg)(),(0,r.iD)("div",null,[C,(0,r._)("form",{onSubmit:n[2]||(n[2]=(0,a.iM)(((...e)=>t.handleSignIn&&t.handleSignIn(...e)),["prevent"]))},[q,(0,r.wy)((0,r._)("input",{type:"email",required:"","onUpdate:modelValue":n[0]||(n[0]=e=>o.email=e)},null,512),[[a.nr,o.email]]),P,(0,r.wy)((0,r._)("input",{type:"password",required:"","onUpdate:modelValue":n[1]||(n[1]=e=>o.password=e)},null,512),[[a.nr,o.password]]),j],32)])}var F={data(){return{email:"",password:""}},methods:{async handleSignIn(){try{const e=await(0,f.e5)(y,this.email,this.password),n=e.user;console.log("User signed in successfully:",n),this.$emit("onAuthSuccess",n),this.$router.push({name:"UserProfile",params:{userId:n.uid},query:{email:n.email}})}catch(e){console.error("Sign-in error:",e.message),alert("User does not exist or password is incorrect"),"auth/user-not-found"!==e.code&&"auth/wrong-password"!==e.code||console.error("User does not exist or password is incorrect")}}}};const x=(0,k.Z)(F,[["render",E],["__scopeId","data-v-c45406b8"]]);var O=x,z={components:{SigninForm:O,SignupForm:D},data(){return{showSigninForm:!0,showSignupForm:!1}},methods:{handleSigninSuccess(e){console.log("User signed in successfully:",e),this.showSigninForm=!1},handleSignupSuccess(e){console.log("User signed up successfully:",e),this.showSignupForm=!1}}};const Z=(0,k.Z)(z,[["render",t]]);var $=Z,N=s(2483);const V={class:"home"};function A(e,n,s,a,i,o){return(0,r.wg)(),(0,r.iD)("div",V)}var T={name:"HomeView",components:{}};const K=(0,k.Z)(T,[["render",A]]);var W=K;const H=e=>((0,r.dD)("data-v-1e5d6970"),e=e(),(0,r.Cn)(),e),M={class:"mainContainer"},Y={class:"header"},L=["src","alt"],R={class:"user-info"},X={class:"user"},B=H((()=>(0,r._)("span",{class:"green"},"User:",-1))),G=H((()=>(0,r._)("br",null,null,-1))),J={class:"green small"},Q={class:"profile-picture"},ee={key:0,class:"preview-placeholder"},ne=["src"],se={class:"menu"},ae=H((()=>(0,r._)("div",{class:"content"},[(0,r._)("p",{class:"noEmails"},"No emails yet!")],-1)));function re(e,n,a,i,o,t){const u=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",M,[(0,r._)("div",Y,[(0,r._)("img",{class:"logo",src:s(7135),alt:e.PearLink},null,8,L),(0,r._)("div",R,[(0,r._)("div",X,[B,(0,r.Uk)(" "+(0,l.zw)(e.$route.query.email)+" ",1),G,(0,r._)("span",J,"ID: "+(0,l.zw)(e.$route.params.userId),1)])])]),(0,r._)("div",Q,[o.previewImage?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",ee," Your picture ")),o.previewImage?((0,r.wg)(),(0,r.iD)("img",{key:1,src:o.previewImage,alt:"User Picture",class:"uploaded-picture"},null,8,ne)):(0,r.kq)("",!0),(0,r._)("input",{type:"file",id:"fileInput",ref:"fileInput",onChange:n[0]||(n[0]=(...e)=>t.handleFileChange&&t.handleFileChange(...e)),accept:"image/*",style:{display:"none"}},null,544),(0,r._)("label",{for:"fileInput",class:"upload-label",onClick:n[1]||(n[1]=(...e)=>t.handleFileUpload&&t.handleFileUpload(...e))},"Add a picture")]),(0,r._)("div",se,[(0,r.Wm)(u,{to:"/compose"},{default:(0,r.w5)((()=>[(0,r.Uk)("Compose")])),_:1}),(0,r.Wm)(u,{to:"/inbox"},{default:(0,r.w5)((()=>[(0,r.Uk)("Inbox")])),_:1}),(0,r.Wm)(u,{to:"/sent"},{default:(0,r.w5)((()=>[(0,r.Uk)("Sent")])),_:1}),(0,r.Wm)(u,{to:"/trash"},{default:(0,r.w5)((()=>[(0,r.Uk)("Trash")])),_:1})]),ae])}s(8858),s(1318),s(3228);var ie={data(){return{previewImage:null}},methods:{handleFileUpload(){this.$refs.fileInput.click()},handleFileChange(e){const n=e.target.files[0];n&&(console.log("File uploaded:",n),this.previewImage=URL.createObjectURL(n))}},created(){console.log("UserProfile created with route params:",this.$route.params),console.log("User email from query:",this.$route.query.email)}};const oe=(0,k.Z)(ie,[["render",re],["__scopeId","data-v-1e5d6970"]]);var te=oe;const le=e=>((0,r.dD)("data-v-72f840ec"),e=e(),(0,r.Cn)(),e),ue={class:"main"},ce=le((()=>(0,r._)("h1",null,[(0,r.Uk)("Compose New Email "),(0,r._)("br"),(0,r.Uk)(),(0,r._)("span",{class:"red"},"(in development...)")],-1))),de=le((()=>(0,r._)("label",null,"To:",-1))),pe=le((()=>(0,r._)("label",null,"Subject:",-1))),me=le((()=>(0,r._)("label",null,"Message:",-1))),ge=le((()=>(0,r._)("div",{class:"submit"},[(0,r._)("button",null,"Send Email")],-1)));function we(e,n,s,i,o,t){return(0,r.wg)(),(0,r.iD)("div",ue,[ce,(0,r._)("form",{onSubmit:n[3]||(n[3]=(0,a.iM)(((...e)=>t.sendEmail&&t.sendEmail(...e)),["prevent"]))},[de,(0,r.wy)((0,r._)("input",{type:"email",required:"","onUpdate:modelValue":n[0]||(n[0]=e=>o.recipient=e)},null,512),[[a.nr,o.recipient]]),pe,(0,r.wy)((0,r._)("input",{type:"text",required:"","onUpdate:modelValue":n[1]||(n[1]=e=>o.subject=e)},null,512),[[a.nr,o.subject]]),me,(0,r.wy)((0,r._)("textarea",{rows:"5",required:"","onUpdate:modelValue":n[2]||(n[2]=e=>o.message=e)},null,512),[[a.nr,o.message]]),ge],32)])}var he={data(){return{recipient:"",subject:"",message:""}},methods:{sendEmail(){}}};const ve=(0,k.Z)(he,[["render",we],["__scopeId","data-v-72f840ec"]]);var fe=ve;const _e=e=>((0,r.dD)("data-v-5bf1fc9a"),e=e(),(0,r.Cn)(),e),be={class:"main"},ye=_e((()=>(0,r._)("h1",null,"Inbox",-1))),Se={key:0,class:"noEmails"},ke={key:1},Ue={class:"sender"},De={class:"subject"},Ie={class:"message"};function Ce(e,n,s,a,i,o){return(0,r.wg)(),(0,r.iD)("div",be,[ye,0===i.emails.length?((0,r.wg)(),(0,r.iD)("div",Se,"No emails in the inbox.")):((0,r.wg)(),(0,r.iD)("div",ke,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.emails,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.id,class:"email"},[(0,r._)("div",Ue,(0,l.zw)(e.sender),1),(0,r._)("div",De,(0,l.zw)(e.subject),1),(0,r._)("div",Ie,(0,l.zw)(e.message),1)])))),128))]))])}var qe={data(){return{emails:[]}}};const Pe=(0,k.Z)(qe,[["render",Ce],["__scopeId","data-v-5bf1fc9a"]]);var je=Pe;const Ee=e=>((0,r.dD)("data-v-51910d6b"),e=e(),(0,r.Cn)(),e),Fe={class:"main"},xe=Ee((()=>(0,r._)("h1",null,"Sent",-1))),Oe={key:0,class:"noEmails"},ze={key:1},Ze={class:"recipient"},$e={class:"subject"},Ne={class:"message"};function Ve(e,n,s,a,i,o){return(0,r.wg)(),(0,r.iD)("div",Fe,[xe,0===i.emails.length?((0,r.wg)(),(0,r.iD)("div",Oe,"No sent emails.")):((0,r.wg)(),(0,r.iD)("div",ze,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.emails,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.id,class:"email"},[(0,r._)("div",Ze,(0,l.zw)(e.recipient),1),(0,r._)("div",$e,(0,l.zw)(e.subject),1),(0,r._)("div",Ne,(0,l.zw)(e.message),1)])))),128))]))])}var Ae={data(){return{emails:[]}}};const Te=(0,k.Z)(Ae,[["render",Ve],["__scopeId","data-v-51910d6b"]]);var Ke=Te;const We=e=>((0,r.dD)("data-v-37909e7a"),e=e(),(0,r.Cn)(),e),He={class:"main"},Me=We((()=>(0,r._)("h1",null,"Trash",-1))),Ye={key:0,class:"noEmails"},Le={key:1},Re={class:"sender"},Xe={class:"subject"},Be={class:"message"};function Ge(e,n,s,a,i,o){return(0,r.wg)(),(0,r.iD)("div",He,[Me,0===i.emails.length?((0,r.wg)(),(0,r.iD)("div",Ye,"No emails in the trash.")):((0,r.wg)(),(0,r.iD)("div",Le,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.emails,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.id,class:"email"},[(0,r._)("div",Re,(0,l.zw)(e.sender),1),(0,r._)("div",Xe,(0,l.zw)(e.subject),1),(0,r._)("div",Be,(0,l.zw)(e.message),1)])))),128))]))])}var Je={data(){return{emails:[]}}};const Qe=(0,k.Z)(Je,[["render",Ge],["__scopeId","data-v-37909e7a"]]);var en=Qe;const nn=[{path:"/",name:"home",component:W},{path:"/user/:userId",name:"UserProfile",component:te},{path:"/compose",name:"ComposeEmail",component:fe},{path:"/inbox",name:"InboxComponent",component:je},{path:"/sent",name:"SentComponent",component:Ke},{path:"/trash",name:"TrashComponent",component:en},{path:"/signup",name:"SignUp",component:D}],sn=(0,N.p7)({history:(0,N.PO)("/"),routes:nn});var an=sn;const rn=(0,a.ri)($);rn.use(an),rn.config.globalProperties.$auth=y,(0,a.ri)($).use(an).mount("#app")},7135:function(e,n,s){e.exports=s.p+"img/plb.21a4d8e8.png"}},n={};function s(a){var r=n[a];if(void 0!==r)return r.exports;var i=n[a]={exports:{}};return e[a].call(i.exports,i,i.exports,s),i.exports}s.m=e,function(){var e=[];s.O=function(n,a,r,i){if(!a){var o=1/0;for(c=0;c<e.length;c++){a=e[c][0],r=e[c][1],i=e[c][2];for(var t=!0,l=0;l<a.length;l++)(!1&i||o>=i)&&Object.keys(s.O).every((function(e){return s.O[e](a[l])}))?a.splice(l--,1):(t=!1,i<o&&(o=i));if(t){e.splice(c--,1);var u=r();void 0!==u&&(n=u)}}return n}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[a,r,i]}}(),function(){s.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(n,{a:n}),n}}(),function(){s.d=function(e,n){for(var a in n)s.o(n,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){s.p="/"}(),function(){var e={143:0};s.O.j=function(n){return 0===e[n]};var n=function(n,a){var r,i,o=a[0],t=a[1],l=a[2],u=0;if(o.some((function(n){return 0!==e[n]}))){for(r in t)s.o(t,r)&&(s.m[r]=t[r]);if(l)var c=l(s)}for(n&&n(a);u<o.length;u++)i=o[u],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(c)},a=self["webpackChunkemail_client_app"]=self["webpackChunkemail_client_app"]||[];a.forEach(n.bind(null,0)),a.push=n.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(2566)}));a=s.O(a)})();
//# sourceMappingURL=app.0794d5cd.js.map